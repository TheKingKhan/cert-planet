<!DOCTYPE html>
<meta charset="utf-8">
<style>

.graticule {
  fill: none;
  stroke: #777;
  stroke-width: 0.5px;
  stroke-opacity: 0.5;
}

.land {
  fill: #222;
}

.boundary {
  fill: none;
  stroke: #fff;
  stroke-width: .5px;
}

.bar {
  fill: orange;
}

.bar:hover {
  fill: orangered ;
}

.d3-tip {
  line-height: 1;
  font-weight: bold;
  padding: 12px;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  border-radius: 2px;
}

/* Creates a small triangle extender for the tooltip */
.d3-tip:after {
  box-sizing: border-box;
  display: inline;
  font-size: 10px;
  width: 100%;
  line-height: 1;
  color: rgba(0, 0, 0, 0.8);
  content: "\25BC";
  position: absolute;
  text-align: center;
}

/* Style northward tooltips differently */
.d3-tip.n:after {
  margin: -1px 0 0 0;
  top: 100%;
  left: 0;
}

</style>
<svg width="960" height="547"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v1.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.2.min.js"></script> 
<script type="text/javascript" src="jquery.tipsy.js"></script>
<link href="tipsy.css" rel="stylesheet" type="text/css" />
<script>
var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var projection = d3.geoPatterson()
    .scale(153)
    .translate([width / 2, height / 2])
    .precision(0.1);

var path = d3.geoPath()
    .projection(projection);


svg.append("path")
    .datum(d3.geoGraticule10())
    .attr("class", "graticule")
    .attr("d", path);





d3.json("https://d3js.org/world-50m.v1.json", function(error, world) {
  if (error) throw error;
  svg.insert("path", ".graticule")
      .datum(topojson.feature(world, world.objects.land))
      .attr("class", "land")
      .attr("d", path);

  svg.insert("path", ".graticule")
      .datum(topojson.mesh(world, world.objects.countries, function(a, b) { return a !== b; }))
      .attr("class", "boundary")
      .attr("d", path);



});


AD = [1.601554,42.54624]
AE = [53.847818,23.42407]
AF = [67.709953,33.9391]
AG = [-61.796428,17.06081]
AI = [-63.068615,18.22055]
AL = [20.168331,41.15333]
AM = [45.038189,40.06909]
AN = [-69.060087,12.22607]
AO = [17.873887,-11.20269]
AQ = [-0.071389,-75.25097]
AR = [-63.616672,-38.41609]
AS = [-170.132217,-14.27097]
AT = [14.550072,47.51623]
AU = [133.775136,-25.27439]
AW = [-69.968338,12.5211]
AZ = [47.576927,40.14310]
BA = [17.679076,43.91588]
BB = [-59.543198,13.19388]
BD = [90.356331,23.68499]
BE = [4.469936,50.50388]
BF = [-1.561593,12.23833]
BG = [25.48583,42.73388]
BH = [50.637772,25.93041]
BI = [29.918886,-3.37305]
BJ = [2.315834,9.3076]
BM = [-64.75737,32.32138]
BN = [114.727669,4.53527]
BO = [-63.588653,-16.29015]
BR = [-51.92528,-14.23500]
BS = [-77.39628,25.0342]
BT = [90.433601,27.51416]
BV = [3.413194,-54.42319]
BW = [24.684866,-22.32847]
BY = [27.953389,53.70980]
BZ = [-88.49765,17.18987]
CA = [-106.346771,56.13036]
CC = [96.870956,-12.16416]
CD = [21.758664,-4.03833]
CF = [20.939444,6.61111]
CG = [15.827659,-0.22802]
CH = [8.227512,46.81818]
CI = [-5.54708,7.53998]
CK = [-159.777671,-21.23673]
CL = [-71.542969,-35.67514]
CM = [12.354722,7.36972]
CN = [104.195397,35.8616]
CO = [-74.297333,4.57086]
CR = [-83.753428,9.74891]
CU = [-77.781167,21.52175]
CV = [-24.013197,16.00208]
CX = [105.690449,-10.44752]
CY = [33.429859,35.12641]
CZ = [15.472962,49.81749]
DE = [10.451526,51.16569]
DJ = [42.590275,11.82513]
DK = [9.501785,56.2639]
DM = [-61.370976,15.41499]
DO = [-70.162651,18.73569]
DZ = [1.659626,28.03388]
EC = [-78.183406,-1.83123]
EE = [25.013607,58.59527]
EG = [30.802498,26.82055]
EH = [-12.885834,24.21552]
ER = [39.782334,15.17938]
ES = [-3.74922,40.46366]
ET = [40.489673,9.14]
FI = [25.748151,61.9241]
FJ = [179.414413,-16.57819]
FK = [-59.523613,-51.79625]
FM = [150.550812,7.42555]
FO = [-6.911806,61.89263]
FR = [2.213749,46.22763]
GA = [11.609444,-0.80368]
GB = [-3.435973,55.37805]
GD = [-61.604171,12.26277]
GE = [43.356892,42.31540]
GF = [-53.125782,3.93388]
GG = [-2.585278,49.46569]
GH = [-1.023194,7.94652]
GI = [-5.345374,36.13774]
GL = [-42.604303,71.70693]
GM = [-15.310139,13.44318]
GN = [-9.696645,9.94558]
GP = [-62.067641,16.99597]
GQ = [10.267895,1.65080]
GR = [21.824312,39.07420]
GS = [-36.587909,-54.42957]
GT = [-90.230759,15.78347]
GU = [144.793731,13.44430]
GW = [-15.180413,11.80374]
GY = [-58.93018,4.86041]
GZ = [34.308825,31.35467]
HK = [114.109497,22.39642]
HM = [73.504158,-53.0818]
HN = [-86.241905,15.19999]
HR = [15.2,]
HT = [-72.285215,18.97118]
HU = [19.503304,47.16249]
ID = [113.921327,-0.78927]
IE = [-8.24389,53.4129]
IL = [34.851612,31.04605]
IM = [-4.548056,54.23610]
IN = [78.96288,20.59368]
IO = [71.876519,-6.34319]
IQ = [43.679291,33.22319]
IR = [53.688046,32.42790]
IS = [-19.020835,64.96305]
IT = [12.56738,41.8719]
JE = [-2.13125,49.21443]
JM = [-77.297508,18.10958]
JO = [36.238414,30.58516]
JP = [138.252924,36.20482]
KE = [37.906193,-0.02355]
KG = [74.766098,41.2043]
KH = [104.990963,12.56567]
KI = [-168.734039,-3.37041]
KM = [43.872219,-11.87500]
KN = [-62.782998,17.35782]
KP = [127.510093,40.33985]
KR = [127.766922,35.90775]
KW = [47.481766,29.3116]
KY = [-80.566956,19.51346]
KZ = [66.923684,48.01957]
LA = [102.495496,19.8562]
LB = [35.862285,33.85472]
LC = [-60.978893,13.90944]
LI = [9.555373,47.16]
LK = [80.771797,7.87305]
LR = [-9.429499,6.42805]
LS = [28.233608,-29.60998]
LT = [23.881275,55.16943]
LU = [6.129583,49.81527]
LV = [24.603189,56.87963]
LY = [17.228331,26.335]
MA = [-7.09262,31.79170]
MC = [7.412841,43.75029]
MD = [28.369885,47.41163]
ME = [19.37439,42.70867]
MG = [46.869107,-18.76694]
MH = [171.184478,7.13147]
MK = [21.745275,41.60863]
ML = [-3.996166,17.57069]
MM = [95.956223,21.91396]
MN = [103.846656,46.86249]
MO = [113.543873,22.19874]
MP = [145.38469,17.3308]
MQ = [-61.024174,14.64152]
MR = [-10.940835,21.0078]
MS = [-62.187366,16.74249]
MT = [14.375416,35.93749]
MU = [57.552152,-20.34840]
MV = [73.22068,3.20277]
MW = [34.301525,-13.25430]
MX = [-102.552784,23.63450]
MY = [101.975766,4.21048]
MZ = [35.529562,-18.66569]
NA = [18.49041,-22.9576]
NC = [165.618042,-20.90430]
NE = [8.081666,17.60778]
NF = [167.954712,-29.04083]
NG = [8.675277,9.08199]
NI = [-85.207229,12.86541]
NL = [5.291266,52.13263]
NO = [8.468946,60.47202]
NP = [84.124008,28.39485]
NR = [166.931503,-0.52277]
NU = [-169.867233,-19.05444]
NZ = [174.885971,-40.90055]
OM = [55.923255,21.51258]
PA = [-80.782127,8.53798]
PE = [-75.015152,-9.18996]
PF = [-149.406843,-17.67974]
PG = [143.95555,-6.31499]
PH = [121.774017,12.87972]
PK = [69.345116,30.37532]
PL = [19.145136,51.91943]
PM = [-56.27111,46.94193]
PN = [-127.439308,-24.70361]
PR = [-66.590149,18.22083]
PS = [35.233154,31.95216]
PT = [-8.224454,39.39987]
PW = [134.58252,7.5149]
PY = [-58.443832,-23.44250]
QA = [51.183884,25.35482]
RE = [55.536384,-21.11514]
RO = [24.96676,45.94316]
RS = [21.005859,44.01652]
RU = [105.318756,61.5240]
RW = [29.873888,-1.94027]
SA = [45.079162,23.88594]
SB = [160.156194,-9.6457]
SC = [55.491977,-4.67957]
SD = [30.217636,12.86280]
SE = [18.643501,60.12816]
SG = [103.819836,1.35208]
SH = [-10.030696,-24.14347]
SI = [14.995463,46.15124]
SJ = [23.670272,77.55360]
SK = [19.699024,48.66902]
SL = [-11.779889,8.46055]
SM = [12.457777,43.9423]
SN = [-14.452362,14.49740]
SO = [46.199616,5.15214]
SR = [-56.027783,3.91930]
ST = [6.613081,0.1863]
SV = [-88.89653,13.79418]
SY = [38.996815,34.80207]
SZ = [31.465866,-26.52250]
TC = [-71.797928,21.69402]
TD = [18.732207,15.45416]
TF = [69.348557,-49.28036]
TG = [0.824782,8.61954]
TH = [100.992541,15.87003]
TJ = [71.276093,38.86103]
TK = [-171.855881,-8.96736]
TL = [125.727539,-8.87421]
TM = [59.556278,38.96971]
TN = [9.537499,33.88691]
TO = [-175.198242,-21.17898]
TR = [35.243322,38.96374]
TT = [-61.222503,10.69180]
TV = [177.64933,-7.10953]
TW = [120.960515,23.6978]
TZ = [34.888822,-6.36902]
UA = [31.16558,48.37943]
UG = [32.290275,1.37333]
US = [-95.712891,37.0902,"US"]
UY = [-55.765835,-32.52277]
UZ = [64.585262,41.37749]
VA = [12.453389,41.90291]
VC = [-61.287228,12.98430]
VE = [-66.58973,6.4237]
VG = [-64.639968,18.42069]
VI = [-64.896335,18.33576]
VN = [108.277199,14.05832]
VU = [166.959158,-15.37670]
WF = [-177.156097,-13.76875]
WS = [-172.104629,-13.75902]
XK = [20.902977,42.60263]
YE = [48.516388,15.55272]
YT = [45.166244,-12.827,"YT"]
ZA = [22.937506,-30.55948,"ZA"]
ZM = [27.849332,-13.13389,"ZM"]
ZW = [29.154857,-19.01543,"ZW"]
BOX = [-25, 0]
list = [ ZW, ZM, ZA, YT, US]
var bar = svg.selectAll("g")
    .data(list)
  .enter().append("g")
    .attr("transform", function(d, i) { return "translate(400, 400)"; });

bar.append("rect")
    .attr("fill", "black")
    .attr("x", "0")
    .attr("y", "0")
    .attr("width", 500)
    .attr("height", 50);

var circles = svg.selectAll("circle")
	.data(list).enter()
	

circles.append("circle")
	.attr("cx", function (d) { console.log(projection(d)); return projection(d)[0]; })
	.attr("cy", function (d) { return projection(d)[1]; })
	.attr("r", "4px")
	.attr("fill", "red")
	.on("mouseover",function(d){
            d3.select("#" + d[2])
		.attr("opacity", "1")
    	})
    	.on("mouseout",function(d){
            d3.select("#" + d[2])
            	.attr("opacity", "0")
   	})

circles.append("text")
        .attr("id", function(d) {return d[2];})
	.attr("transform", function(d, i) { return "translate(400, 400)"; })
        .attr("fill", "white")
        .attr("dy", "1em")
        .attr("dx", ".25em")
        .attr("opacity", "0")
	.attr("font-size", 12)
        .text(function(d) { return d[2] + "\n" + d[0] + "," + d[1]; });

</script>

